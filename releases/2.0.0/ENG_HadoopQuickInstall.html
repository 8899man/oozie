<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">











<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Oozie - </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      </head>
  <body class="composite">
    <div id="banner">
                    <span id="bannerLeft">
    
            Oozie
    
            </span>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
  

  
    
  
  
    
            <div class="xleft">
        Last Published: 2010-06-25
                      </div>
            <div class="xright">      
  

  
    
  
  
    
  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
  

  
    
  
  
    
                                                <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
            <img alt="Built by Maven" src="./images/logos/maven-feather.png"></img>
          </a>
                       
  

  
    
  
  
    
        </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <p></p>
<p><a href="./index.html">::Go back to Oozie Documentation Index::</a>
</p>
<a name="Hadoop_Quick_Install"></a>
<div class="section"><h2> Hadoop Quick Install</h2>
<p><ul><ul><li><a href="#Introduction">Introduction</a>
</li>
<li><a href="#System_Requirements">System Requirements</a>
</li>
<li><a href="#SSH_Setup">SSH Setup</a>
</li>
<li><a href="#Hadoop_Install">Hadoop Install</a>
</li>
<li><a href="#Test_Hadoop">Test Hadoop</a>
</li>
</ul>
</ul>
</p>
<a name="Introduction"></a>
<div class="section"><h3>Introduction</h3>
<p>The following installation instructions have been tested in Linux and Mac OS X.</p>
<a name="System_Requirements"></a>
</div>
<div class="section"><h3>System Requirements</h3>
<p><ul><li>Java JDK 1.6</li>
</ul>
</p>
<a name="SSH_Setup"></a>
</div>
<div class="section"><h3>SSH Setup</h3>
<p>To avoid Hadoop start and stop commands to ask you for password 4 times (everytime you start it or stop it) follow the
<a href="./ENG_Building.html#SshSetup">Passphare-less SSH Setup</a>
 instructions.</p>
<a name="Hadoop_Install"></a>
</div>
<div class="section"><h3>Hadoop Install</h3>
<p>Get a <a href="http://hadoop.apache.org" class="externalLink">Hadoop</a>
 distro and expand it.</p>
<p>Configure the <tt>HADOOP_HOME</tt>
, <tt>HADOOP_CONF_DIR</tt>
 environment variables to the appropriate values, add <tt>${HADOOP_HOME}/bin</tt>

to <tt>PATH</tt>
. in the shell that will be used to start and stop Hadoop.</p>
<p>Modify the <tt>hadoop/conf/hadoop-env.sh</tt>
 file to set the the right path for <tt>JAVA_HOME</tt>
, for example for Mac OS X:</p>
<p><font color="#0000ff">
<pre>
export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/1.6/Home
</pre></p>
<hr />
<p></font></p>
<p>Make sure to setup the following 3 properties in the Hadoop configuration file. For Hadoop pre 0.20.0 this is
done in the <tt>conf/hadoop-site.xml</tt>
, for Hadoop 0.20.0 onwards this is done in 2 files, <tt>conf/mapred-site.xml</tt>

and <tt>conf/hdfs-site.xml</tt>
</p>
<p><pre>
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;
&lt;!-- Put site-specific property overrides in this file. --&gt;
&lt;configuration&gt;
    &lt;property&gt;
        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;
        &lt;value&gt;/usr/foo/hadoop/data&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;mapred.job.tracker&lt;/name&gt;
        &lt;value&gt;localhost:9001&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;fs.default.name&lt;/name&gt;
        &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;
    &lt;/property&gt;
&lt;/configuration&gt;
</pre></p>
<p>Clean format of HDFS:</p>
<p><pre>
$ rm -rf hadoop/data/*
$ hadoop namenode -format
</pre></p>
<p>Start Hadoop:</p>
<p><pre>
$ start-all.sh
</pre></p>
<p><font color="#0000ff"></p>
<hr />
<p><b>Mac OS X:</b>
</p>
<p>Sometimes, when putting the machine to sleep while Hadoop is running it makes
Hadoop and HDFS to become unstable and MR job hang on the reduce phase. It is
recommended to stop Hadoop before putting the machine to sleep. If Hadoop
gets funny (because you forgot to stop it) stop Hadoop do a clean format
(you must delete the <tt>hadoop/data/</tt>
 contents) and start Hadoop again.</p>
<hr />
<p></font></p>
<a name="Test_Hadoop"></a>
</div>
<div class="section"><h3>Test Hadoop</h3>
<p>Create an <tt>input</tt>
 directory in HDFS and copy a text file in it. For example:</p>
<p><pre>
$ hadoop dfs -mkdir /usr/foo/input
$ hadoop dfs -copyFromLocal sampledata.txt /usr/foo/input
</pre></p>
<p>Run Hadoop wordcount example from <tt>${HADOOP_HOME}</tt>
, for example for Hadoop 0.20.0:</p>
<p><pre>
$ hadoop jar hadoop-0.20.0-examples.jar wordcount /usr/foo/input /usr/foo/output
</pre></p>
<p><a href="./index.html">::Go back to Oozie Documentation Index::</a>
</p>
<p></p>
</div>

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;  
          2010
    
          Apache Software Foundation
          
  

  
    
  
  
    
   - <a href="http://maven.apache.org/privacy-policy.html">Privacy Policy</a></div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
